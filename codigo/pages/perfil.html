<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fit Flex | Perfil</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="../assets/css/perfil.css">
</head>

<nav class="navbar navbar-expand-lg">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">
      <img src="/assets/images/logofitflex.PNG" class="img-thumbnail img-small rounded-circle" alt="..."></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navtext collapse navbar-collapse " id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link" href="../index.html">Página inicial</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="./sobre.html">Sobre nós</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="./contato.html">Contato</a>
        </li>
        <li class="nav-item" id="containerLogin" style="display: block">
          <a class="nav-link" href="./login.html" id="loginLink">Login</a>
        </li>
        <li class="nav-item" id="containerPerfil" style="display: none">
            <a class="nav-link" href="./perfil.html" id="loginLink">Meu Perfil</a>
          </li>
        <li class="nav-item" id="cadastroReceitasContainer1" style="display: none;">
          <a class="nav-link" href="./ca.html" id="cadastroAlimento">Cadastro Alimentos</a>
        </li>
        <li class="nav-item" id="cadastroReceitasContainer2" style="display: none;">
          <a class="nav-link" href="./crudReceita.html" id="cadastroReceitas">Cadastro Receitas</a>
      </li>
      </ul>
    </div>
  </div>
</nav>
  </header>
  <div class="container">
    <div class="profile-info">
        <img id="user-pic" alt="Foto do Usuário" style="max-width: 200px; display: block;border-radius: 50%;object-fit:unset;height: 150px;width: 150px;">
        <div id="content">
          <h2 id="name"></h2>
          <p  id="age"></p>
          <p id="weight"></p>
          <p id="height"></p>
          <p id="tel"></p>
          <p id="sex"></p>
        </div>
        <a href="./editarPerfil.html"><button id="edit-btn">Editar</button></a>
        <button id="botaoLogout">Sair</button>
      </div>
    </div>
    <div class="favorites">
      <a class="ReceitasFav" href="##">Mais receitas:</a>
      <div class="recipes">
        <div class="recipe">
          <h3>Salada Ceaser</h3>
          <img src="../assets/images/salada ceaser.jpg" alt="Salada Ceaser">
        </div>
        <div class="recipe">
          <h3>Pão com ovo</h3>
          <img src="../assets/images/paocovo.jpeg" alt="Pão com ovo">
        </div>
        <div class="recipe">
          <h3>Tapioca</h3>
          <img src="../assets/images/tapioca.jpg"alt="Frango grelhado">
        </div>
      </div>
    </div>
  </div>
  <div id="favorite-item-container"></div>
  <script src="../assets/js/perfil.js"></script>
  <script>
    function verificaAdmin() {
    let user = sessionStorage.getItem("usuarioCorrente");
    user = JSON.parse(user);
    if (user && user.login === "admin") {
        console.log("Admin logado");
        document.getElementById("cadastroReceitasContainer1").style.display = 'block';
        document.getElementById("cadastroReceitasContainer2").style.display = 'block';
    }
}

function verificaLogin() {
    let user = sessionStorage.getItem("usuarioCorrente");
    user = JSON.parse(user);
    if (user && user.login !== "admin") {
        console.log("Usuário não-admin está logado");
        document.getElementById("containerLogin").style.display = 'none';
        document.getElementById("containerPerfil").style.display = 'block';
    } else {
        console.log("Usuário não logado ou admin");
    }
}

const LOGIN_URL = "login.html";

function logoutUser() {
    let usuarioCorrente = {};
    sessionStorage.setItem('usuarioCorrente', JSON.stringify(usuarioCorrente));
    window.location = LOGIN_URL;
}

document.getElementById('botaoLogout').onclick = logoutUser;

  </script>
</body>

</html>